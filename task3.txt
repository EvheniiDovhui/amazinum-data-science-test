p = [0.12, 0.27, 0.21, 0.96]
h = [0.25] * 4
d = 'HHHTHTHHH'

def solve(h, d):
    res = []
    for r in d:
        h = [h[i] * (p[i] if r == 'H' else 1 - p[i]) for i in range(4)]
        
        s = sum(h)
        h = [v / s for v in h]
        
        res.append(round(sum(p[i] * h[i] for i in range(4)), 2))
    return res

print(solve(h, d))